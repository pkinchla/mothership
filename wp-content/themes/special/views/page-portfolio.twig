{% extends "base.twig" %}
{% block content %}
  <article class="post-type-{{post.post_type}} site-grid block" id="post-{{post.ID}}">
    <header>
      <h1 tabindex="-1">{{post.title}}</h1>
    </header>
    <figure>
      <picture>
        <source srcset="{{post.get_thumbnail.src|resize(2000)|towebp}} 2000w, {{post.get_thumbnail.src|resize(1200)|towebp}} 1200w, {{post.get_thumbnail.src|resize(600)|towebp}} 600w, {{post.get_thumbnail.src|resize(300)|towebp}} 300w, {{post.get_thumbnail.src|resize(150)|towebp}} 150w"
                sizes="(min-width:120em) 62vw, (min-width:64em) 72vw, (min-width:40em) 66vw, 100vw"
                type="image/webp"
                loading="lazy"
        />
        <source srcset="{{post.get_thumbnail.src|resize(2000)}} 2000w, {{post.get_thumbnail.src|resize(1200)}} 1200w, {{post.get_thumbnail.src|resize(600)}} 600w, {{post.get_thumbnail.src|resize(300)}} 300w, {{post.get_thumbnail.src|resize(250)}} 250w, {{post.get_thumbnail.src|resize(150)}} 150w"
                sizes="(min-width:120em) 62vw, (min-width:64em) 72vw, (min-width:40em) 66vw, 100vw"
                type="image/webp"
                loading="lazy"
        />
        <img src="{{post.get_thumbnail.src}}"
             alt="{{post.get_thumbnail.alt}}"
             width="{{post.get_thumbnail.width}}"
             height="{{post.get_thumbnail.height}}"
             loading="lazy"
        />
      </picture>
    </figure>
    <section class="portfolio">
      <h2 class="assistive-text">Portfolio Items</h2>
      <ul>
        {% for post in portfolio_posts %}
          <li>
            <a href="{{post.link}}">
              <h3>
                <span>{{post.title}}</span>
                <span class="assistive-text">, project category is</span>
                <em>{{post.post_excerpt}}</em>
              </h3>
              <img
                srcset="{{TimberImage(post.get_field('list_image')).src|resize(1200)}} 1200w, {{TimberImage(post.get_field('list_image')).src|resize(600)}} 600w, {{TimberImage(post.get_field('list_image')).src|resize(300)}} 300w, {{TimberImage(post.get_field('list_image')).src|resize(250)}} 250w, {{TimberImage(post.get_field('list_image')).src|resize(150)}} 150w"
                src="{{TimberImage(post.get_field('list_image')).src}}"
                sizes="(min-width:120em) 14vw, (min-width:64em) 20vw, (min-width:40em) 30vw, 90vw"
                alt="{{TimberImage(post.get_field('list_image')).alt}}"
                height="{{TimberImage(post.get_field('list_image')).height}}"
                width="{{TimberImage(post.get_field('list_image')).width}}"
              />
            </a>
          </li>
        {% endfor %}
      </ul>
    </section>
  </article>
{% endblock %}